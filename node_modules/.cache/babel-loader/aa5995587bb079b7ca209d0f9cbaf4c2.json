{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback, useContext, useState } from \"react\";\nimport { AppContext } from \"../utils/context\";\nexport function useWrappedRequest() {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const {\n    setError\n  } = useContext(AppContext);\n  const wrappedRequest = useCallback(async promise => {\n    try {\n      setLoading(true);\n      const result = await promise();\n      return result;\n    } catch (error) {\n      setError(error);\n      return null;\n    } finally {\n      setLoading(false);\n    }\n  }, [setError]);\n  return {\n    loading,\n    wrappedRequest\n  };\n}\n\n_s(useWrappedRequest, \"UpnfxKvL89/2lQjaDsJx6EcANJM=\");","map":{"version":3,"names":["useCallback","useContext","useState","AppContext","useWrappedRequest","loading","setLoading","setError","wrappedRequest","promise","result","error"],"sources":["C:/Users/seren/Downloads/ramp-fe-challenged/ramp-fe-challenge/src/hooks/useWrappedRequest.ts"],"sourcesContent":["import { useCallback, useContext, useState } from \"react\"\r\nimport { AppContext } from \"../utils/context\"\r\n\r\nexport function useWrappedRequest() {\r\n  const [loading, setLoading] = useState(false)\r\n  const { setError } = useContext(AppContext)\r\n\r\n  const wrappedRequest = useCallback(\r\n    async <TData extends any = void>(promise: () => Promise<TData>): Promise<TData | null> => {\r\n      try {\r\n        setLoading(true)\r\n        const result = await promise()\r\n        return result\r\n      } catch (error) {\r\n        setError(error as string)\r\n        return null\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    },\r\n    [setError]\r\n  )\r\n\r\n  return { loading, wrappedRequest }\r\n}\r\n"],"mappings":";;AAAA,SAASA,WAAT,EAAsBC,UAAtB,EAAkCC,QAAlC,QAAkD,OAAlD;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,OAAO,SAASC,iBAAT,GAA6B;EAAA;;EAClC,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBJ,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM;IAAEK;EAAF,IAAeN,UAAU,CAACE,UAAD,CAA/B;EAEA,MAAMK,cAAc,GAAGR,WAAW,CAChC,MAAiCS,OAAjC,IAA0F;IACxF,IAAI;MACFH,UAAU,CAAC,IAAD,CAAV;MACA,MAAMI,MAAM,GAAG,MAAMD,OAAO,EAA5B;MACA,OAAOC,MAAP;IACD,CAJD,CAIE,OAAOC,KAAP,EAAc;MACdJ,QAAQ,CAACI,KAAD,CAAR;MACA,OAAO,IAAP;IACD,CAPD,SAOU;MACRL,UAAU,CAAC,KAAD,CAAV;IACD;EACF,CAZ+B,EAahC,CAACC,QAAD,CAbgC,CAAlC;EAgBA,OAAO;IAAEF,OAAF;IAAWG;EAAX,CAAP;AACD;;GArBeJ,iB"},"metadata":{},"sourceType":"module"}